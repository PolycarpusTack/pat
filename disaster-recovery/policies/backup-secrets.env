# =============================================================================
# Pat Fortress Backup and Disaster Recovery Secrets
# =============================================================================
# This file contains sensitive configuration for backup and recovery operations
# IMPORTANT: This file should be encrypted and have restricted permissions (600)
# =============================================================================

# Database Connection Secrets
POSTGRES_USER=fortress_user
POSTGRES_DB=fortress_production
POSTGRES_PASSWORD_FILE=/run/secrets/postgres_password
REDIS_PASSWORD_FILE=/run/secrets/redis_password

# Encryption Configuration
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_ENCRYPTION_KEY=backup@fortress.pat.local
BACKUP_ENCRYPTION_PASSPHRASE=FortressBackup2024SecurePassphrase!
GPG_KEY_ID=ABCD1234EFGH5678

# Remote Backup Configuration
REMOTE_BACKUP_HOST=backup-server.fortress.internal
REMOTE_BACKUP_USER=fortress-backup
REMOTE_BACKUP_PATH=/secure-backups/fortress
REMOTE_BACKUP_SSH_KEY=/etc/fortress/ssh/backup_key
REMOTE_BACKUP_SSH_PORT=22

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=AKIA...example
AWS_SECRET_ACCESS_KEY=wJalr...example
AWS_S3_BACKUP_BUCKET=fortress-backups-prod
AWS_S3_BACKUP_REGION=us-west-2
AWS_S3_ENCRYPTION_KMS_KEY=arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012

# Google Cloud Storage Configuration
GCS_SERVICE_ACCOUNT_KEY=/etc/fortress/gcs/service-account.json
GCS_BACKUP_BUCKET=fortress-backups-prod
GCS_BACKUP_REGION=us-west1
GCS_PROJECT_ID=fortress-production

# Azure Storage Configuration (Optional)
AZURE_STORAGE_ACCOUNT=fortressbackups
AZURE_STORAGE_KEY=abcd1234...example
AZURE_STORAGE_CONTAINER=fortress-backups

# Monitoring and Alerting
ALERT_EMAIL=ops@fortress.pat.local,backup-alerts@fortress.pat.local
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
PAGERDUTY_INTEGRATION_KEY=12345678901234567890123456789012
PAGERDUTY_WEBHOOK_URL=https://events.pagerduty.com/integration/abcdef1234567890/enqueue

# Compliance and Audit
COMPLIANCE_EMAIL=compliance@fortress.pat.local
AUDIT_RETENTION_YEARS=7
GDPR_ENABLED=true
HIPAA_ENABLED=false
SOX_ENABLED=false

# Vault Integration (HashiCorp Vault)
VAULT_ADDR=https://vault.fortress.internal:8200
VAULT_TOKEN=hvs.CAESIF...example
VAULT_USERNAME=fortress-backup
VAULT_PASSWORD=SecureVaultPassword2024!
VAULT_NEW_PASSWORD=NewSecureVaultPassword2024!
VAULT_ROLE=backup-operator

# Network and Performance
NETWORK_BANDWIDTH_LIMIT=100MB/s
BACKUP_PARALLEL_JOBS=4
BACKUP_COMPRESSION_LEVEL=19
BACKUP_IO_PRIORITY=7
BACKUP_NICE_LEVEL=10

# Backup Retention Override (in addition to config.yaml)
LOCAL_RETENTION_HOURS=24
REMOTE_RETENTION_DAYS=30
CLOUD_RETENTION_DAYS=365

# Recovery Testing
TEST_ENVIRONMENT_DB_HOST=test-postgres.fortress.internal
TEST_ENVIRONMENT_REDIS_HOST=test-redis.fortress.internal
STAGING_ENVIRONMENT_ENABLED=true
DR_TEST_FREQUENCY=weekly

# Security Configuration
BACKUP_USER_UID=1001
BACKUP_GROUP_GID=1001
BACKUP_FILE_PERMISSIONS=0600
BACKUP_DIR_PERMISSIONS=0700

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/fortress/ssl/backup-client.crt
SSL_KEY_PATH=/etc/fortress/ssl/backup-client.key
SSL_CA_PATH=/etc/fortress/ssl/ca.crt
SSL_VERIFY_PEER=true

# Backup Validation
BACKUP_CHECKSUM_ALGORITHM=SHA256
BACKUP_INTEGRITY_CHECK=true
BACKUP_RESTORATION_TEST=true
BACKUP_VALIDATION_FREQUENCY=daily

# Regional DR Configuration
PRIMARY_REGION=us-west-2
SECONDARY_REGION=us-east-1
DR_REGION=eu-west-1
CROSS_REGION_SYNC_ENABLED=true

# Environment Specific Overrides
ENVIRONMENT=production
BACKUP_RETENTION_POLICY=compliance
DATA_CLASSIFICATION=confidential
BACKUP_PRIORITY=high

# Logging and Debugging
LOG_LEVEL=INFO
DEBUG_BACKUP_OPERATIONS=false
VERBOSE_LOGGING=false
LOG_RETENTION_DAYS=90

# Performance Tuning
BACKUP_BUFFER_SIZE=16MB
NETWORK_TCP_WINDOW_SIZE=16MB
DISK_IO_SCHEDULER=mq-deadline
COMPRESSION_THREADS=0  # Use all available

# Emergency Contact Information
EMERGENCY_CONTACT_PRIMARY=oncall-primary@fortress.pat.local
EMERGENCY_CONTACT_SECONDARY=oncall-secondary@fortress.pat.local
EMERGENCY_PHONE_PRIMARY=+1-555-0123
EMERGENCY_PHONE_SECONDARY=+1-555-0124

# Backup Window Configuration
BACKUP_WINDOW_START=01:00
BACKUP_WINDOW_END=05:00
BACKUP_WINDOW_TIMEZONE=UTC
MAINTENANCE_WINDOW_SUNDAY=02:00-04:00

# Custom Scripts and Hooks
PRE_BACKUP_SCRIPT=/etc/fortress/scripts/pre-backup-hook.sh
POST_BACKUP_SCRIPT=/etc/fortress/scripts/post-backup-hook.sh
PRE_RECOVERY_SCRIPT=/etc/fortress/scripts/pre-recovery-hook.sh
POST_RECOVERY_SCRIPT=/etc/fortress/scripts/post-recovery-hook.sh

# Integration Endpoints
BACKUP_WEBHOOK_URL=https://api.fortress.internal/webhooks/backup
RECOVERY_WEBHOOK_URL=https://api.fortress.internal/webhooks/recovery
STATUS_API_KEY=api_key_12345678901234567890

# Cloud Provider Specific Settings
AWS_KMS_KEY_ID=12345678-1234-1234-1234-123456789012
GCS_ENCRYPTION_KEY=base64_encoded_encryption_key
AZURE_KEY_VAULT_URL=https://fortress-keyvault.vault.azure.net/

# Disaster Recovery Testing
DR_TEST_ENABLED=true
DR_TEST_SCHEDULE=0 3 1 * *  # Monthly on 1st at 3 AM
DR_TEST_ENVIRONMENT=dr-test.fortress.internal
DR_TEST_NOTIFICATION_LIST=dr-team@fortress.pat.local

# Backup Metrics and Monitoring
METRICS_ENABLED=true
METRICS_EXPORT_URL=http://prometheus:9090/metrics
METRICS_PUSH_GATEWAY=http://pushgateway:9091
METRICS_JOB_NAME=fortress-backup

# Archive and Long-term Storage
ARCHIVE_ENABLED=true
ARCHIVE_AFTER_DAYS=90
ARCHIVE_STORAGE_CLASS=GLACIER
ARCHIVE_RETRIEVAL_TIER=Standard

# Cleanup and Maintenance
AUTO_CLEANUP_ENABLED=true
CLEANUP_SCHEDULE=0 4 * * *  # Daily at 4 AM
ORPHANED_FILE_CLEANUP=true
TEMP_FILE_CLEANUP_HOURS=24

# Notification Preferences
EMAIL_NOTIFICATIONS=true
SLACK_NOTIFICATIONS=true
SMS_NOTIFICATIONS=false
WEBHOOK_NOTIFICATIONS=true

# Data Privacy and Compliance
DATA_ANONYMIZATION=false
PII_DETECTION=true
GDPR_RIGHT_TO_ERASURE=true
DATA_RETENTION_ENFORCEMENT=true

# High Availability and Load Balancing
BACKUP_LOAD_BALANCER=backup-lb.fortress.internal
BACKUP_SERVER_POOL=backup1.fortress.internal,backup2.fortress.internal
FAILOVER_ENABLED=true
HEALTH_CHECK_INTERVAL=60s

# Version Control and Change Management
BACKUP_VERSION_CONTROL=true
CONFIG_CHANGE_APPROVAL=true
CHANGE_MANAGEMENT_SYSTEM=https://change.fortress.internal
APPROVAL_WORKFLOW_ENABLED=true